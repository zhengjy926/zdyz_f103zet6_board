/**
  ******************************************************************************
  * @copyright: Copyright To Hangzhou Dinova EP Technology Co.,Ltd
  * @file     : data_manage.c
  * @author   : ZJY
  * @version  : V1.0
  * @date     : 20xx-xx-xx
  * @brief    : xxx
  *                  1.xx
  *                  2.xx
  *
  * @attention: None
  ******************************************************************************
  * @history  : 
  *      V1.0 : 1.xxx
  *
  *
  *     
  ******************************************************************************
  */
/*------------------------------ include --------------------------------------*/
#include "loop_impd.h"

/*------------------------------ Macro definition -----------------------------*/


/*------------------------------ typedef definition ---------------------------*/


/*------------------------------ variables prototypes -------------------------*/
float RsOhm[2];

uint8_t CalibrationFlag = 0;
uint8_t Printf_IMP_Flag = 0;

extern volatile uint16_t ADC_ConvertedValue;
int impd_ad[150] = {
    138,238,338,436,537,635,733,830,927,1024,1119,1213,1308,1401,1494,
    1586,1677,1769,1858,1948,2038,2127,2215,2301,2388,2474,2559,2644,
    2728,2813,2900
};

float impd_slope[150] = {
    0.003369, 0.002905, 0.002751, 0.002661, 0.002622, 0.002584, 0.002557,
    0.002533 ,0.002515 ,0.002500 ,0.002484 ,0.002468 ,0.002456 ,0.002443 ,
    0.002432 ,0.002420 ,0.002408 ,0.002399 ,0.002387 ,0.002378 ,0.002369 ,
    0.002360 ,0.002351 ,0.002341 ,0.002332 ,0.002323 ,0.002314 ,0.002305 ,
    0.002297 ,0.002289 ,0.002281 
};

/*------------------------------ function prototypes --------------------------*/
int loop_impd_cmd_handle(uint8_t *cmd ,uint8_t *pData, uint16_t len)
{
    if(pData[2] != T_ID)/*确保是本机命令*/
			return 0;

    if(*cmd!=pData[3])
    {//正常模式接收所有命令
        *cmd=pData[3];
        return 1;
    }
	return 0;
}

/*------------------------------ application ----------------------------------*/

/******************************* End Of File ************************************/
